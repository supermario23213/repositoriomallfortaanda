window.ThemeSection_header=count=>{const dropdownCount=parseInt(count),menuOpen={};for(let i=0;i<dropdownCount;i++)menuOpen["menu"+i]=!1;return{menuOpen,searchOpen:!1,headerIsSticky:!1,scrollY:0,navWrapped:!1,get isStuck(){return this.headerIsSticky&&this.scrollY>100},get menuIsActive(){return!Object.keys(menuOpen).every(k=>!menuOpen[k])},mounted(){initTeleport(this.$root),Alpine.store("modals").register("nav","leftDrawer"),document.addEventListener("keyup",event=>{if(event.key==="Escape")for(let i=0;i<dropdownCount;i++)this.menuOpen["menu"+i]===!0&&(this.menuOpen["menu"+i]=!1,document.querySelector(`[aria-controls="menu${i}"]`).focus())}),document.body.addEventListener("label:search:closebutton",()=>{this.searchOpen=!1}),this.$root.hasAttribute("data-sticky-header")&&this.setUpSticky(),this.headerResizeFunctions(),this._debouncedHeaderFunctions=debounce(this.headerResizeFunctions.bind(this),300),window.addEventListener("resize",this._debouncedHeaderFunctions),document.addEventListener("shopify:section:load",e=>{e.target.querySelector(".site-header")&&this.headerResizeFunctions()})},logoLoaded(){setTimeout(()=>{this.calculateHeaderHeight()},100)},headerResizeFunctions(){this.calculateHeaderHeight(),this.calculateNavWrap()},calculateNavWrap(){const wrappedItems=[];let prevItem={},currItem={};if(this.$refs.navigation!==void 0){const items=this.$refs.navigation.children;for(var i=0;i<items.length;i++)currItem=items[i].getBoundingClientRect(),prevItem&&prevItem.top<currItem.top&&wrappedItems.push(items[i]),prevItem=currItem;wrappedItems.length>0?this.navWrapped=!0:this.navWrapped=!1}},calculateHeaderHeight(){document.documentElement.style.setProperty("--header-height",`${document.getElementById("headerBorderWrap").clientHeight}px`)},setUpSticky(){const headerContainer=document.getElementById("shopify-section-header");new IntersectionObserver(e=>{e.forEach(entry=>{this.headerIsSticky=entry.intersectionRatio<1})},{rootMargin:"-1px 0px 0px 0px",threshold:[1]}).observe(headerContainer);let timer=null;const checkScrollPosition=e=>{this.scrollY=window.scrollY,timer!==null&&clearTimeout(timer),timer=setTimeout(()=>{this.scrollY=window.scrollY},150)},_debounceScrollHandler=throttle(checkScrollPosition,150);document.addEventListener("scroll",_debounceScrollHandler),this.scrollY=window.scrollY},openMenu(index){this.menuOpen["menu"+index]=!0},focusOut(event,menu){event.relatedTarget&&(event.relatedTarget.closest("[data-header-dropdown]")||(this.menuOpen[menu]=!1))},closeSearch(){this.searchOpen=!1,this.$refs.search.focus()},openSearch(){this.searchOpen=!0;let input=document.querySelector(".header-search-input");setTimeout(()=>{input.focus()},100)}}};
//# sourceMappingURL=/cdn/shop/t/2/assets/header.js.map?v=9718709330628819711656957278
